---
description: ["自动生成并沉淀每日开发讨论纪要到 ctfbot-discuss.md，并协助整理今日代码变更"]
---
这个工作流应该在每天结束开发、下线休息前由用户触发（指令 `/finish-day`）。当接收到此指令时，大模型应当化身为记忆摘要助手和代码协管员，执行以下步骤：

1. **回顾今日高光**：
   - 从当前的 Context 中提取今日和 Master (人类开发者) 讨论的最具价值的设计思路、架构决定、Bug 排障过程或精彩的渗透思路。
   - 绝不仅仅是流水账，而是要总结**“思想的碰撞点”**和**“踩坑的防雷建议”**。

2. **增量写入 `docs/ctfbot-discuss.md`**：
   - 必须使用文件追加（如 `replace_file_content` 替换或追加模式），绝不允许覆盖过去的讨论记录。
   - 必须标明当天的日期和精炼的副标题（例如 `## 📅 2026-XX-XX: 渗透内网网络的重新设计`）。
   - 将第一步总结的高光内容用 Markdown 格式化好写进文件的最后一行之后。

3. **代码状态自检与提议（可选）**：
   - 主动用 `git status` 或 `git diff` 检查今天是否有修改后尚未整理提交的代码。
   - 如果有，为用户草拟一份包含前缀（如 `feat:`, `fix:`, `refactor:`）的标准 Commit Message，并询问用户：“您的纪要已整理完毕，是否需要我顺手将今天的辉煌战果使用 `git commit` 以及 `git push` 保存到远端？”。

4. **最终告别**：
   - 用极客风格的口吻完成下线汇报，祝 Master 休息愉快。
